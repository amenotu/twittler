<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('');
        
        var index = 0;
        var length = streams.home.length;

        function timeStamp (){
          var start = new Date();
          var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
          var day = start.getDate();
          var month = start.getMonth();
          var year = start.getFullYear();
          var hours = start.getHours();
          var hourAM = start.getHours();
          var hourPM = start.getHours() - 12;
          var minutes = start.getMinutes();
          var seconds = start.getSeconds();
          var sec;
          var min;

          if(seconds < 10){
            seconds = "0" + seconds;
          } else {
            seconds = seconds;
          }

          if(minutes < 10){
            minutes = "0" + minutes;
          } else {
            minutes = minutes;
          }

          if(hours <= 12){
            if(hours === 0){
              return (monthNames[month] + " " + day + ", " + year + " at " + 12 + ":" + minutes + ":" + seconds + "AM");
            } else {
              return (monthNames[month] + " " + day + ", " + year + " at " + hourAM + ":" + minutes + ":" + seconds + "AM");
            }
          } else {
            return (monthNames[month] + " " + day + ", " + year + " at " + hourPM + ":" + minutes + ":" + seconds + "PM");
          }
        };

        function showTweet(){
          var tweet = streams.home[index];
          var $tweet = $('<div id="tweet"></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + " " + timeStamp());
          $tweet.appendTo($body);
          index += 1;
        };

        showTweet();

        var newTweets = setInterval(function(){
          if(index < 20){
            return showTweet();
          } else {
            clearInterval(newTweets);
          }
        }, ((Math.random() * 6) * 10000));


        



    
      });

    </script>
  </body>
</html>
